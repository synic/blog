{
  "publishedAt": "2007-11-30T23:34:07-07:00",
  "body": "\u003cp\u003eOur company is growing fast.  When I started in March, 2003, we were hosting\nour website with some company in Texas.  I assumed the position of \u0026quot;Systems\nAdministrator\u0026quot; (I knew Linux fairly well at the time, but I had no formal\ntraining in administration) when we moved from the\nhosting company to our\nfirst dedicated server colocated at \u003ca\nhref='http://www.xmission.com'\u003eXmission\u003c/a\u003e.  Since that time, we moved from\na\nshared rack to our own cabinet, now housing 10 servers (one is currently\npowered off, because if we turn it on, we risk blowing our power circuit...\nyes, we are waiting on a power upgrade).\u003cbr\u003e\u003cbr\u003e\u003c/p\u003e\n\u003cp\u003eAs the number of servers we're using adds up, so does the stress of having to\nmanage it all.  There are a lot of little things to keep track of to make\nsure\neverything is running smoothly, and doing so can sometimes be a lot of\nwork,\nespecially when my official title here is \u0026quot;Programmer\u0026quot;, and not\n\u0026quot;Systems\nAdministrator\u0026quot;.  Earlier this month, I toured another companies data\ncenter\nand I learned of something that, as of\nyesterday, is going to make\nmy life a \u003cb\u003eLOT\u003c/b\u003e easier: \u003ca\nhref='http://www.nagios.org'\u003eNagios\u003c/a\u003e.\u003cbr\u003e\u003cbr\u003e\u003c/p\u003e\n\u003cp\u003eFrom their site: \u0026quot;Nagios is an Open Source host, service and network\nmonitoring program.\u0026quot;  To me, that doesn't quite sum up the capabilities of\nthis awesome system.  Here's what we now use it for:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eMonitoring the RAID setups on every server (we currently\nuse 3ware, LSI, and software RAID setups; each one is monitored separately).\nIf a drive/array goes bad, our admin staff gets an email, and I get a text message.\u003c/li\u003e\n\u003cli\u003eMonitoring disk usage on every server; you can set a warning and a\ncritical threshold - for example, if disk usage goes over 80% you get a\nwarning, if it goes over 90% you get a critical notice.\u003c/li\u003e\n\u003cli\u003eMonitoring system load (thresholds here are also completely\ncustomizable)\u003c/li\u003e\n\u003cli\u003eMonitoring MySQL replication status\u003c/li\u003e\n\u003cli\u003eEach server is PINGed periodically to make sure it is still up.  If a\nmachine goes down, a notification is sent out\u003c/li\u003e\n\u003cli\u003eEach web server is monitored to make sure i's receiving HTTP\nconnections\u003c/li\u003e\n\u003cli\u003eEach server is monitored to make sure it's receiving SSH\nconnections\u003c/li\u003e\n\u003cli\u003eMonitoring MySQL status (number of connections, slow queries,\netc)\u003c/li\u003e\n\u003cli\u003eEach service on the mail server (POP, IMAP, SMTP, the mail queue) is\nmonitored\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eFor every item you monitor, you can specify when, how, and how\noften you get\nnotified of events (if at all).  You can also tell the system\nyou want to be\nnotified when something returns to normal. \u003cbr\u003e\u003c/p\u003e\n\u003cp\u003eNagios uses plugins to monitor different items.  It comes with a bunch to\nmonitor commonly used systems and services (like http, ftp, disk usage, etc).\nThere is also a community website where people post plugins that they have\nwritten here: \u003ca\nhref='http://www.nagiosexchange.org'\u003e\u003ca href=\"http://www.nagiosexchange.org\"\u003ehttp://www.nagiosexchange.org\u003c/a\u003e\u003c/a\u003e.  If\nit's not included, and you can't find one on nagiosexchange, they are super\neasy to write in almost any language.\u003cbr\u003e\u003cbr\u003e\u003c/p\u003e\n\u003cp\u003eNot only that,\nNagios gives you a nifty web interface to see what's going on.  Here are some\nscreenshots:\u003c/p\u003e\n\u003cp\u003e\u003cb\u003eThe Status Map\u003c/b\u003e\u003cbr\u003e\u003cbr\u003e\n\u003cimg src='/images/statusmap.png'\u003e\u003cbr\u003e\u003cbr\u003e\n... I mostly included this screenshot because it looks cool.  It looks tons\ncooler when you have hundreds of machines being monitored - if one of the\nmachines has a problem, the green circle around it shows as red.\u003cbr\u003e\u003cbr\u003e\n\u003cb\u003eThe Host Overview\u003c/b\u003e\u003cbr\u003e\u003cbr\u003e\n\u003cimg src='/images/allservers.png'\u003e\u003cbr\u003e\u003cbr\u003e\nAs you can see in that last screenshot, we currenly have one critical notice.\nThat's a degraded array that, even though I had written a script to check for\nsuch a situation, we wouldn't have known about without installing Nagios (for\nwhatever reason, the script I wrote failed to notify us).  That array is\ncurrently rebuilding thanks to this sweet system.\u003cbr\u003e\u003cbr\u003e\nIn conclusion, if you're feeling growing pains at your company when it comes\nto monitoring your servers, I highly recommend you give this a try.  I'll warn\nyou: It's not\nexactly hard to set up, but it is rather tedious.  In my opinion, it's worth\nthe time you'll spend.\u003c/p\u003e\n\u003cdiv class=\"restored-from-archive\"\u003e\n  \u003ch3\u003eRestored from VimTips archive\u003c/h3\u003e\n  \u003cp\u003e\n  This article was restored from the VimTips archive. There's probably\n  missing images and broken links (and even some flash references), but it\n  was still important to me to bring them back.\n  \u003c/p\u003e\n\u003c/div\u003e",
  "summary": "\u003cp\u003eOur company is growing fast.  When I started in March, 2003, we were hosting\nour website with some company in Texas.  I assumed the position of \u0026quot;Systems\nAdministrator\u0026quot; (I knew Linux fairly well at the time, but I had no formal\ntraining in administration) when we moved from the\nhosting company to our first dedicated server colocated at \u003ca\nhref='http://www.xmission.com'\u003eXmission\u003c/a\u003e.  Since that time, we moved from a\nshared rack to our own cabinet, now housing 10 servers (one is currently\npowered off, because if we turn it on, we risk blowing our power circuit...\nyes, we are waiting on a power upgrade)...\u003c/p\u003e\n",
  "title": "Nagios is my hero",
  "slug": "nagios-is-my-hero",
  "tags": [
    "Linux",
    "Administration"
  ],
  "isPublished": true,
  "openGraph": {
    "title": "Nagios is my hero",
    "type": "article"
  }
}